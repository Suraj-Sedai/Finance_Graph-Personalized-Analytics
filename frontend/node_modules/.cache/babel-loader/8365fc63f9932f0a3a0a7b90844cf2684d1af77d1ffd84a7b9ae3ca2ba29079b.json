{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\Project\\\\Finance_Graph-Personalized-Analytics\\\\frontend\\\\src\\\\components\\\\HomePage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Home, Plus, Grid, Settings, Download, LogOut } from \"lucide-react\";\nimport { Chart } from \"chart.js/auto\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"token\");\n  const username = localStorage.getItem(\"username\");\n\n  // Function to download files (PDF, CSV, JSON, etc.)\n  const downloadFile = format => {\n    // Ensure the format string is lowercase for the URL\n    const url = `http://127.0.0.1:8000/api/export/${format.toLowerCase()}/`;\n    axios({\n      url: url,\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      responseType: \"blob\"\n    }).then(response => {\n      // Create a new Blob object using the response data\n      const file = new Blob([response.data], {\n        type: response.headers[\"content-type\"]\n      });\n      const fileURL = URL.createObjectURL(file);\n\n      // Create a temporary link and trigger the download\n      const a = document.createElement(\"a\");\n      a.href = fileURL;\n      a.download = `financial_data.${format.toLowerCase()}`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }).catch(error => {\n      console.error(`Error downloading ${format} file:`, error);\n      alert(`Failed to download ${format} file.`);\n    });\n  };\n\n  // Logout function: clear localStorage and navigate back to login\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"username\");\n    navigate(\"/\"); // Adjust the route if needed\n  };\n\n  // Sample spending data (replace with dynamic data as needed)\n  const spendingData = [{\n    category: \"Entertainment\",\n    amount: 714.25\n  }, {\n    category: \"Food\",\n    amount: 104.04\n  }, {\n    category: \"Shopping\",\n    amount: 917.55\n  }, {\n    category: \"Bills\",\n    amount: 523.97\n  }, {\n    category: \"Travel\",\n    amount: 312.85\n  }, {\n    category: \"Others\",\n    amount: 14.27\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        username: username,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dashboard-title\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"metrics\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            title: \"Total Spending\",\n            value: \"$4128.98\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            title: \"Average Spending\",\n            value: \"$687.54\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"spending-section\",\n          children: [/*#__PURE__*/_jsxDEV(CategoryList, {\n            data: spendingData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n            data: spendingData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"download-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Download Your Financial Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"download-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(DownloadButton, {\n              format: \"PDF\",\n              onClick: () => downloadFile(\"PDF\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DownloadButton, {\n              format: \"CSV\",\n              onClick: () => downloadFile(\"CSV\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DownloadButton, {\n              format: \"JSON\",\n              onClick: () => downloadFile(\"JSON\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n// Sidebar Button Component (wraps a button with an optional Link)\n_s(Dashboard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nfunction SidebarButton({\n  Icon,\n  text,\n  to\n}) {\n  const buttonContent = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"sidebar-button\",\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      className: \"icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"sidebar-text\",\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n  return to ? /*#__PURE__*/_jsxDEV(Link, {\n    to: to,\n    children: buttonContent\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 15\n  }, this) : buttonContent;\n}\n\n// Header Component for displaying user info and logout button\n_c2 = SidebarButton;\nfunction Header({\n  username,\n  onLogout\n}) {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"dashboard-header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"material-symbols-outlined\",\n        children: \"account_circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"logout-button\",\n      onClick: onLogout,\n      children: [/*#__PURE__*/_jsxDEV(LogOut, {\n        className: \"icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), \"Logout\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n// Card Component for displaying metrics\n_c3 = Header;\nfunction Card({\n  title,\n  value\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card metric-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"value\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n}\n\n// Component to list spending by category\n_c4 = Card;\nfunction CategoryList({\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card category-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Spending by Category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-list\",\n      children: data.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spending-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"category-name\",\n          children: item.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"category-amount\",\n          children: [\"$\", item.amount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, item.category, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n// Chart Card Component wrapping the Pie Chart\n_c5 = CategoryList;\nfunction ChartCard({\n  data\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card chart-card\",\n    children: /*#__PURE__*/_jsxDEV(PieChart, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}\n\n// Pie Chart Component using Chart.js\n_c6 = ChartCard;\nfunction PieChart({\n  data\n}) {\n  _s2();\n  const chartRef = useRef(null);\n  const chartInstance = useRef(null);\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    // Destroy any previous chart instance to avoid duplicates\n    if (chartInstance.current) {\n      chartInstance.current.destroy();\n    }\n    const ctx = chartRef.current.getContext(\"2d\");\n    if (!ctx) return;\n    chartInstance.current = new Chart(ctx, {\n      type: \"pie\",\n      data: {\n        labels: data.map(item => item.category),\n        datasets: [{\n          data: data.map(item => item.amount),\n          backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\", \"#4BC0C0\", \"#9966FF\", \"#FF9F40\"],\n          borderColor: \"#222\",\n          borderWidth: 2\n        }]\n      },\n      options: {\n        responsive: true,\n        plugins: {\n          legend: {\n            position: \"right\",\n            labels: {\n              color: \"#fff\"\n            }\n          }\n        }\n      }\n    });\n\n    // Cleanup the chart instance on unmount\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n    };\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: chartRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 10\n  }, this);\n}\n\n// Download Button Component\n_s2(PieChart, \"u5+iHnwD4hjVcMuzTE/TbI78erc=\");\n_c7 = PieChart;\nfunction DownloadButton({\n  format,\n  onClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"download-button\",\n    onClick: onClick,\n    children: [/*#__PURE__*/_jsxDEV(Download, {\n      className: \"icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: format\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n}\n_c8 = DownloadButton;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"SidebarButton\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"Card\");\n$RefreshReg$(_c5, \"CategoryList\");\n$RefreshReg$(_c6, \"ChartCard\");\n$RefreshReg$(_c7, \"PieChart\");\n$RefreshReg$(_c8, \"DownloadButton\");","map":{"version":3,"names":["React","useEffect","useRef","Link","useNavigate","axios","Home","Plus","Grid","Settings","Download","LogOut","Chart","jsxDEV","_jsxDEV","Dashboard","_s","navigate","token","localStorage","getItem","username","downloadFile","format","url","toLowerCase","method","headers","Authorization","responseType","then","response","file","Blob","data","type","fileURL","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","catch","error","console","alert","handleLogout","removeItem","spendingData","category","amount","className","children","Sidebar","fileName","_jsxFileName","lineNumber","columnNumber","Header","onLogout","Card","title","value","CategoryList","ChartCard","DownloadButton","onClick","_c","SidebarButton","Icon","text","to","buttonContent","_c2","_c3","_c4","map","item","toFixed","_c5","PieChart","_c6","_s2","chartRef","chartInstance","current","destroy","ctx","getContext","labels","datasets","backgroundColor","borderColor","borderWidth","options","responsive","plugins","legend","position","color","ref","_c7","_c8","$RefreshReg$"],"sources":["C:/Users/Administrator/Documents/Project/Finance_Graph-Personalized-Analytics/frontend/src/components/HomePage.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Home, Plus, Grid, Settings, Download, LogOut } from \"lucide-react\";\r\nimport { Chart } from \"chart.js/auto\";\r\n\r\nexport default function Dashboard() {\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"token\");\r\n  const username = localStorage.getItem(\"username\");\r\n\r\n  // Function to download files (PDF, CSV, JSON, etc.)\r\n  const downloadFile = (format) => {\r\n    // Ensure the format string is lowercase for the URL\r\n    const url = `http://127.0.0.1:8000/api/export/${format.toLowerCase()}/`;\r\n\r\n    axios({\r\n      url: url,\r\n      method: \"GET\",\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      responseType: \"blob\",\r\n    })\r\n      .then((response) => {\r\n        // Create a new Blob object using the response data\r\n        const file = new Blob([response.data], { type: response.headers[\"content-type\"] });\r\n        const fileURL = URL.createObjectURL(file);\r\n\r\n        // Create a temporary link and trigger the download\r\n        const a = document.createElement(\"a\");\r\n        a.href = fileURL;\r\n        a.download = `financial_data.${format.toLowerCase()}`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n      })\r\n      .catch((error) => {\r\n        console.error(`Error downloading ${format} file:`, error);\r\n        alert(`Failed to download ${format} file.`);\r\n      });\r\n  };\r\n\r\n  // Logout function: clear localStorage and navigate back to login\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\"); // Adjust the route if needed\r\n  };\r\n\r\n  // Sample spending data (replace with dynamic data as needed)\r\n  const spendingData = [\r\n    { category: \"Entertainment\", amount: 714.25 },\r\n    { category: \"Food\", amount: 104.04 },\r\n    { category: \"Shopping\", amount: 917.55 },\r\n    { category: \"Bills\", amount: 523.97 },\r\n    { category: \"Travel\", amount: 312.85 },\r\n    { category: \"Others\", amount: 14.27 },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <Sidebar />\r\n      <div className=\"dashboard-wrapper\">\r\n        <Header username={username} onLogout={handleLogout} />\r\n\r\n        {/* Main Content */}\r\n        <main className=\"main-content\">\r\n          <h1 className=\"dashboard-title\">Dashboard</h1>\r\n\r\n          {/* Metrics Section */}\r\n          <section className=\"metrics\">\r\n            <Card title=\"Total Spending\" value=\"$4128.98\" />\r\n            <Card title=\"Average Spending\" value=\"$687.54\" />\r\n          </section>\r\n\r\n          {/* Spending Categories & Chart */}\r\n          <section className=\"spending-section\">\r\n            <CategoryList data={spendingData} />\r\n            <ChartCard data={spendingData} />\r\n          </section>\r\n\r\n          {/* Download Section */}\r\n          <section className=\"download-section\">\r\n            <h2>Download Your Financial Data</h2>\r\n            <div className=\"download-buttons\">\r\n              <DownloadButton format=\"PDF\" onClick={() => downloadFile(\"PDF\")} />\r\n              <DownloadButton format=\"CSV\" onClick={() => downloadFile(\"CSV\")} />\r\n              <DownloadButton format=\"JSON\" onClick={() => downloadFile(\"JSON\")} />\r\n            </div>\r\n          </section>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n// Sidebar Button Component (wraps a button with an optional Link)\r\nfunction SidebarButton({ Icon, text, to }) {\r\n  const buttonContent = (\r\n    <button className=\"sidebar-button\">\r\n      <Icon className=\"icon\" />\r\n      <span className=\"sidebar-text\">{text}</span>\r\n    </button>\r\n  );\r\n  return to ? <Link to={to}>{buttonContent}</Link> : buttonContent;\r\n}\r\n\r\n// Header Component for displaying user info and logout button\r\nfunction Header({ username, onLogout }) {\r\n  return (\r\n    <header className=\"dashboard-header\">\r\n      <div className=\"user-info\">\r\n        <span className=\"material-symbols-outlined\">account_circle</span>\r\n        <p>{username}</p>\r\n      </div>\r\n      <button className=\"logout-button\" onClick={onLogout}>\r\n        <LogOut className=\"icon\" />\r\n        Logout\r\n      </button>\r\n    </header>\r\n  );\r\n}\r\n\r\n// Card Component for displaying metrics\r\nfunction Card({ title, value }) {\r\n  return (\r\n    <div className=\"card metric-card\">\r\n      <h3>{title}</h3>\r\n      <p className=\"value\">{value}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Component to list spending by category\r\nfunction CategoryList({ data }) {\r\n  return (\r\n    <div className=\"card category-card\">\r\n      <h3>Spending by Category</h3>\r\n      <div className=\"category-list\">\r\n        {data.map((item) => (\r\n          <div key={item.category} className=\"spending-item\">\r\n            <span className=\"category-name\">{item.category}</span>\r\n            <span className=\"category-amount\">${item.amount.toFixed(2)}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Chart Card Component wrapping the Pie Chart\r\nfunction ChartCard({ data }) {\r\n  return (\r\n    <div className=\"card chart-card\">\r\n      <PieChart data={data} />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Pie Chart Component using Chart.js\r\nfunction PieChart({ data }) {\r\n  const chartRef = useRef(null);\r\n  const chartInstance = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!chartRef.current) return;\r\n\r\n    // Destroy any previous chart instance to avoid duplicates\r\n    if (chartInstance.current) {\r\n      chartInstance.current.destroy();\r\n    }\r\n\r\n    const ctx = chartRef.current.getContext(\"2d\");\r\n    if (!ctx) return;\r\n\r\n    chartInstance.current = new Chart(ctx, {\r\n      type: \"pie\",\r\n      data: {\r\n        labels: data.map((item) => item.category),\r\n        datasets: [\r\n          {\r\n            data: data.map((item) => item.amount),\r\n            backgroundColor: [\r\n              \"#FF6384\",\r\n              \"#36A2EB\",\r\n              \"#FFCE56\",\r\n              \"#4BC0C0\",\r\n              \"#9966FF\",\r\n              \"#FF9F40\",\r\n            ],\r\n            borderColor: \"#222\",\r\n            borderWidth: 2,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        plugins: {\r\n          legend: {\r\n            position: \"right\",\r\n            labels: {\r\n              color: \"#fff\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    // Cleanup the chart instance on unmount\r\n    return () => {\r\n      if (chartInstance.current) {\r\n        chartInstance.current.destroy();\r\n      }\r\n    };\r\n  }, [data]);\r\n\r\n  return <canvas ref={chartRef} />;\r\n}\r\n\r\n// Download Button Component\r\nfunction DownloadButton({ format, onClick }) {\r\n  return (\r\n    <button className=\"download-button\" onClick={onClick}>\r\n      <Download className=\"icon\" />\r\n      <span>{format}</span>\r\n    </button>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}